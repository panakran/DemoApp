<h1>Budget app</h1>
<datepicker>
    <input ng-model="bootstrapController.dateIn" type="text"/>
</datepicker>
<datepicker>
    <input ng-model="bootstrapController.dateOut" type="text"/>
</datepicker>

<div ng-repeat="tableItem in bootstrapController.ViewModel">
    <h2>
        {{tableItem.header}}
    </h2>
    <table>
        <tr>
            <th>Item</th>
            <th>Amount</th>
            <th>Remove/add</th>
        </tr>
        <tr ng-repeat="income in tableItem.items track by $index">
            <td  style="width: 180px;" ng-init="editModeItem = false">
                <span ng-show="!editModeItem" ng-click="bootstrapController.inputFocus($event);editModeItem = true;">
                    {{income.item}}
                </span>
                <input type="text" ng-blur="editModeItem = false" ng-show="editModeItem" type="text" ng-model="income.item">
            </td>
            <td style="width: 180px;">
                <span ng-show="!editModeAmount" ng-click="bootstrapController.inputFocus($event);editModeAmount = true;">
                    {{income.amount}}
                </span>
                <input type="number" ng-blur="editModeAmount = false" ng-show="editModeAmount" ng-model="income.amount">

            </td>
            <td>
                <button ng-click="bootstrapController.RemoveItem($index, tableItem.items)">-
                </button>
                <button ng-show="$first" ng-click="bootstrapController.AddItem(tableItem.items)">+
                </button>
            </td>
        </tr>
    </table>
</div>